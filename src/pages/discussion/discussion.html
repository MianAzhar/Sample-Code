<!--
  Generated template for the DiscussionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <img src="./assets/imgs/menu.png">
    </button>
    <ion-title>
      <img src="./assets/imgs/appLogo.png">
    </ion-title>
    <ion-buttons end>
      <button *ngIf="!client.isApproved" (click)="approveClient()" ion-button clear icon-only>
        Approve
      </button>
      <button *ngIf="client.isApproved" (click)="toSelectDoctors()" ion-button clear icon-only>
        <ion-icon name="add-circle"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>

  <ion-row class="aboutUser">
    <ion-col col-4>
      <img [src]="client.photo || './assets/imgs/avatar.png'" class="userImg">
    </ion-col>
    <ion-col col-8 style="border-bottom: 1px solid #dedede;">
      <ion-label class="userName">{{client.name}}</ion-label>
      <p class="userLocation">{{client.location}}</p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Injury: </span>
        {{client.injury}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Date of birth: </span>
        {{client.dob}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Phone No: </span>
        {{client.phone}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Next of kin name: </span>
        {{client.kinName}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Next of kin number: </span>
        {{client.kinNumber}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Email: </span>
        {{client.email}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Medicare number: </span>
        {{client.medicareNumber}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Health fund or third party provider name: </span><br>
        {{client.fundProviderName}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Health fund or third party provider client number: </span><br>
        {{client.fundProviderClientNumber}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Where the Injury Occurred: </span>
        {{client.injuryOccurred}}
      </p>
    </ion-col>
    <ion-col col-12 style="border-bottom: 1px solid #dedede;">
      <p class="description">
        <span>Description: </span>
        {{client.description}}
      </p>
    </ion-col>
  </ion-row>

  <ion-grid>

    <ion-row *ngFor="let comment of comments;">
      <ion-col col-2 class="center" *ngIf="comment.senderId">
        <img [src]="users[comment.senderId].profileURL || './assets/imgs/avatar.png'" class="chatUser">
        <p class="chatUserName">{{users[comment.senderId].name}}</p>
        <p class="chatTime">{{comment.date}}</p>
      </ion-col>
      <ion-col col-10 *ngIf="comment.senderId">
        <ion-label class="shapes"></ion-label>
        <p class="chatMsg">
          {{comment.comment}}
        </p>
      </ion-col>

      <ion-col col-12 *ngIf="!comment.senderId">
        <p class="center addMsg">
          <span>{{comment.comment}}</span>
        </p>
      </ion-col>


    </ion-row>

    <!-- <ion-row>
      <ion-col col-2 class="center">
        <img src="./assets/imgs/user-2.png" class="chatUser">
        <p class="chatUserName">Dayan S.</p>
        <p class="chatTime">02-02-19</p>
      </ion-col>
      <ion-col col-10>
        <ion-label class="shapes"></ion-label>
        <p class="chatMsg">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eius
          mod tempor incididunt ut labore et dolore magna aliqua. Ut enim a
          d minim veniam, quis nostrud exercitation ullamco laboris.
        </p>
      </ion-col>
    </ion-row>

    <p class="center addMsg">
      <span>Andrew Owen added Avron S. to discussion</span>
    </p>

    <ion-row>
      <ion-col col-2 class="center">
        <img src="./assets/imgs/user-3.png" class="chatUser">
        <p class="chatUserName">Cayan S.</p>
        <p class="chatTime">02-02-19</p>
      </ion-col>
      <ion-col col-10>
        <ion-label class="shapes"></ion-label>
        <p class="chatMsg">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eius
          mod tempor incididunt ut labore et dolore magna aliqua. Ut enim a
          d minim veniam, quis nostrud exercitation ullamco laboris.
        </p>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-2 class="center">
        <img src="./assets/imgs/user-4.png" class="chatUser">
        <p class="chatUserName">Billy S.</p>
        <p class="chatTime">02-02-19</p>
      </ion-col>
      <ion-col col-10>
        <ion-label class="shapes"></ion-label>
        <p class="chatMsg">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eius
          mod tempor incididunt ut labore et dolore magna aliqua. Ut enim a
          d minim veniam, quis nostrud exercitation ullamco laboris.
        </p>
      </ion-col>
    </ion-row> -->

  </ion-grid>

</ion-content>

<ion-footer *ngIf="client.isApproved">
  <ion-row>
    <ion-col col-10>
      <ion-textarea type="text" [(ngModel)]="newComment.comment" placeholder="Type your message"></ion-textarea>
    </ion-col>
    <ion-col col-2 class="center">
      <button (click)="postComment()" ion-button round icon-only>
        <ion-icon name="send"></ion-icon>
      </button>
    </ion-col>
  </ion-row>
</ion-footer>
